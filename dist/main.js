!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=3)}([function(e,t){function n(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e,t){return s(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e){if(Array.isArray(e))return e}function o(e,t,n){return Math.pow(t,n)*Math.pow(e,1-n)}function l(e){var t,n=s(t=e)||i(t)||r(),o=a(n[0],3),l=o[0],h=o[1],c=o[2],u=a(n[1],3),d=u[0],f=u[1],p=u[2],v=(n.slice(2),l*f-d*h);return c||p?[[f/v,-h/v,(h*p-f*c)/v],[-d/v,l/v,(d*c-l*p)/v],[0,0,1]]:[[f/v,-h/v],[-d/v,l/v]]}function h(e,t){for(var n=t.map((function(){return 0})),i=0;i<e.length;i++)for(var a=0;a<t.length;a++)n[i]+=t[a]*e[i][a];return n}e.exports={interpolateNumberLinear:function(e,t,n){return e+(t-e)*n},interpolateNumberLogarithmic:o,interpolateVectorLinear:function(e,t,n){for(var i=Array.from(e),a=0;a<e.length;a++)i[a]+=(t[a]-e[a])*n;return i},interpolateVectorLogarithmic:function(e,t,n){for(var i=Array.from(e),a=0;a<e.length;a++)i[a]=o(e[a],t[a],n);return i},scaleFrom:function(e,t,n,i,a){e.translate(i,a),e.scale(t,n),e.translate(-i,-a)},rotateAround:function(e,t,n,i){e.translate(n,i),e.rotate(t),e.translate(-n,-i)},applyTransform:function(e,t){var i=t.scale,r=t.rotate,s=a(t.center,2),o=s[0],l=s[1];e.translate(o,l),e.scale.apply(e,n(i)),e.rotate(r),e.translate(-o,-l)},invertTransform:function(e){var t=a(e.scale,2);return{scale:[1/t[0],1/t[1]],rotate:-e.rotate}},fixedPoint:function(e){var t=e.a,n=e.b,i=e.c,a=e.d,r=e.e,s=e.f;return h(l([[1-t,0-i],[0-n,1-a]]),[r,s])},invertMatrix:l,matVecMultiply:h,logBase:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.e;return Math.log(e)/Math.log(t)}}},function(e,t){e.exports={HUE_SLIDER:!1,ALPHA:!1}},function(e,t,n){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var a=n(7),r=n(0),s=n(1),o=n(8).openModal,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ctx=t.getContext("2d",{alpha:s.ALPHA}),this.width=t.width,this.height=t.height,this.playing=!1,this.frameCt=0,this.shape=a.polygon({ctx:this.ctx,sides:4,radius:Math.min(this.width,this.height)/2}),this.cycleLength=240,this.cycles=0,this.animate=this.animate.bind(this),this.togglePlay=this.togglePlay.bind(this),this.setupCanvas(),this.attachListeners(),requestAnimationFrame(this.animate),o(this.togglePlay)}var t,n,l;return t=e,(n=[{key:"setupCanvas",value:function(){var e=this.ctx,t=this.width,n=this.height;e.translate(t/2,n/2),e.scale(1,-1)}},{key:"attachListeners",value:function(){var e=this,t=document.getElementById("canvas");this.scaleSlider=document.getElementById("scale-slider"),this.angleSlider=document.getElementById("angle-slider"),this.hueSlider=document.getElementById("hue-slider"),this.sidesSlider=document.getElementById("sides-slider"),this.speedSlider=document.getElementById("speed-slider"),this.offsetSlider=document.getElementById("offset-slider"),t.addEventListener("click",this.togglePlay),this.scaleSlider.addEventListener("input",(function(t){return e.setScale(t.target.value)})),this.angleSlider.addEventListener("input",(function(t){return e.setAngle(t.target.value)})),this.sidesSlider.addEventListener("input",(function(t){return e.setSides(t.target.value)})),this.speedSlider.addEventListener("input",(function(t){return e.setSpeed(t.target.value)})),this.offsetSlider.addEventListener("input",(function(t){return e.setOffset(t.target.value)})),s.HUE_SLIDER?this.hueSlider.addEventListener("input",(function(t){return e.setHue(t.target.value)})):this.hueSlider.parentElement.removeChild(this.hueSlider),window.onresize=function(){e.width=e.ctx.canvas.width=window.innerWidth,e.height=e.ctx.canvas.height=window.innerHeight,e.shape=a.polygon({ctx:e.ctx,sides:e.sidesSlider.value,radius:Math.min(e.width,e.height)/2,scale:e.shape.scale,rotate:e.shape.rotate,scaleCenter:e.shape.scaleCenter}),e.postShapeUpdate()},window.addEventListener("keydown",(function(t){81===t.keyCode&&e.setScale(parseFloat(e.scaleSlider.value)-.005),87===t.keyCode&&e.setScale(parseFloat(e.scaleSlider.value)+.005),65===t.keyCode&&e.setAngle(parseFloat(e.angleSlider.value)-.0025),83===t.keyCode&&e.setAngle(parseFloat(e.angleSlider.value)+.0025),219===t.keyCode&&e.setSides(parseFloat(e.sidesSlider.value)-.05),221===t.keyCode&&e.setSides(parseFloat(e.sidesSlider.value)+.05)}))}},{key:"postShapeUpdate",value:function(){this.ctx.resetTransform(),this.shape.computeFixedPoint(),this.setupCanvas(),this.shape.computeDepth(),this.playing||requestAnimationFrame(this.animate)}},{key:"play",value:function(){this.playing=!0,requestAnimationFrame(this.animate)}},{key:"togglePlay",value:function(){this.playing?this.playing=!1:this.play()}},{key:"animate",value:function(){var e=this.ctx,t=this.shape,n=this.width,i=this.height,a=this.frameCt;e.save(),e.clearRect(-n/2,-i/2,n,i);var r=a%this.cycleLength/this.cycleLength;t.transform(-r),this.playing&&(this.frameCt++,a>=this.cycleLength&&(this.frameCt=0,this.cycles++)),t.draw(this.cycles,r),e.restore(),this.playing&&requestAnimationFrame(this.animate)}},{key:"setScale",value:function(e){this.scaleSlider.value=e,e=this.scaleSlider.value,this.shape.scale=[e,e],this.postShapeUpdate()}},{key:"setAngle",value:function(e){this.angleSlider.value=e,e=this.angleSlider.value,this.shape.rotate=parseFloat(e)*Math.PI,this.postShapeUpdate()}},{key:"setHue",value:function(e){this.hueSlider.value=e,e=this.hueSlider.value,this.shape.hue=parseInt(e),this.playing||requestAnimationFrame(this.animate)}},{key:"setSides",value:function(e){this.sidesSlider.value=e,e=this.sidesSlider.value,this.shape=a.polygon({ctx:this.ctx,sides:e,radius:Math.min(this.width,this.height)/2,rotate:this.shape.rotate,scale:this.shape.scale,scaleCenter:this.shape.scaleCenter,hue:this.shape.hue}),this.postShapeUpdate()}},{key:"setSpeed",value:function(e){this.speedSlider.value=e,e=this.speedSlider.value;var t=this.cycleLength;this.cycleLength=Math.round(r.interpolateNumberLogarithmic(480,30,e)),this.frameCt=Math.round(this.frameCt*(this.cycleLength/t)),this.postShapeUpdate()}},{key:"setOffset",value:function(e){this.offsetSlider.value=e,e=this.offsetSlider.value;var t=Math.min(this.width,this.height)/2;this.shape.scaleCenter=[0,r.interpolateNumberLinear(0,t,e)],this.postShapeUpdate()}}])&&i(t.prototype,n),l&&i(t,l),e}();e.exports=l},function(e,t,n){"use strict";n.r(t);n(4),n(5),n(6);var i=n(2),a=n.n(i);window.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("canvas");e.width=window.innerWidth,e.height=window.innerHeight;new a.a(e)}))},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],i=!0,a=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){a=!0,r=e}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var s=n(0),o=n(1),l={scale:[1,1],rotate:0,scaleCenter:[0,0],hue:127,colors:[[13,"47%","42%"],[51,"42%","55%"],[0,"24%","36%"],[40,"69%","64%"],[51,"92%","70%"]]},h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=Object.assign({},l,t),this.ctx=t.ctx,this.vertices=t.vertices,this.scale=t.scale,this.scaleCenter=t.scaleCenter,this.rotate=t.rotate,this.colors=t.colors,this.hue=t.hue,this.computeFixedPoint(),this.computeDepth()}var t,n,h;return t=e,h=[{key:"polygon",value:function(t){for(var n=t.ctx,i=t.sides,a=t.radius,r=t.rotate,s=t.scale,o=t.scaleCenter,h=t.hue,c=void 0===h?127:h,u=[],d=2*Math.PI/i,f=0;f<i;f++){var p=f*d,v=a*Math.cos(p),m=a*Math.sin(p);u.push([m,v])}void 0===r&&(r=d/2);var y=Math.abs(Math.cos(d/2));return new e({ctx:n,vertices:u,rotate:r,scale:s=s||[y,y],scaleCenter:o=o||l.scaleCenter,hue:c})}}],(n=[{key:"tracePath",value:function(){var e=this.ctx,t=this.vertices;e.beginPath(),e.moveTo.apply(e,a(t[0]));for(var n=1;n<t.length;n++)e.lineTo.apply(e,a(t[n]));e.closePath()}},{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;t=t||this.ctx;var n=this.scale,i=this.rotate,a=this.fixedPoint,r={scale:s.interpolateVectorLogarithmic(l.scale,n,e),rotate:s.interpolateNumberLinear(l.rotate,i,e),center:a};s.applyTransform(t,r)}},{key:"draw",value:function(e,t){var n=this.ctx,a=this.hue,r=this.colors,l=this.maxDepth,h=this.depthOffset;n.save(),this.transform(-h);for(var c=-h;c<l;c++){this.tracePath(n);var u=(e+c)%r.length,d=i(r[u=(u+r.length)%r.length],3),f=d[0],p=d[1],v=d[2],m=void 0;if(o.ALPHA){var y=Math.max(Math.ceil(l/2),Math.min(l,5)),g=s.interpolateNumberLinear(c+1,c,t)-y;m=s.interpolateNumberLinear(1,0,g/(1+l-y))}else m=1;n.fillStyle="hsla(".concat((a+f)%360,",").concat(p,",").concat(v,",").concat(m,")"),n.fill(),this.transform()}n.restore()}},{key:"computeFixedPoint",value:function(){var e=this.ctx,t=this.scale,n=this.rotate,i=this.scaleCenter;if(1!==this.scale[0]&&1!==this.scale[1]){e.save(),s.applyTransform(e,{scale:t,rotate:n,center:i});var a=e.getTransform();this.fixedPoint=s.fixedPoint(a),e.restore()}else this.fixedPoint=i}},{key:"computeDepth",value:function(){var e=this.ctx.canvas,t=e.width,n=e.height,a=Math.sqrt(Math.pow(t/2,2)+Math.pow(n/2,2)),r=i(this.scale,2),o=r[0],l=r[1];this.depthOffset=Math.ceil(s.logBase(2*a,Math.min(1/o,1/l))),this.maxDepth=Math.max(Math.ceil(-s.logBase(t,o)),Math.ceil(-s.logBase(n,l))),this.maxDepth=Math.min(this.maxDepth,5e3)}}])&&r(t.prototype,n),h&&r(t,h),e}();e.exports=h},function(e,t){var n=function(e){e.stopPropagation()},i=null,a=function e(){var t=document.getElementById("modal"),a=t.parentElement,r=document.getElementById("start-button");a.classList.add("hiding"),t.classList.add("hiding"),a.removeEventListener("click",e),r.removeEventListener("click",e),t.removeEventListener("click",n),setTimeout((function(){t.classList.remove("hiding"),a.classList.remove("hiding"),t.classList.add("hidden"),a.classList.add("hidden")}),400),i&&i()};e.exports={openModal:function(e){var t=document.getElementById("modal"),r=t.parentElement,s=document.getElementById("start-button");r.classList.remove("hidden"),t.classList.remove("hidden"),r.addEventListener("click",a),s.addEventListener("click",a),t.addEventListener("click",n),i=e},closeModal:a}}]);
//# sourceMappingURL=main.js.map